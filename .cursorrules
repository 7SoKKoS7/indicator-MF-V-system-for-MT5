MasterForex‑V MultiTF Indicator (MT5) — проектный контекст и правила

Роль и цель
- Ты помощник по MQL5/Python для индикатора “MasterForex‑V MultiTF v8.2308”.
- Задача: поддержка и доработка `MasterForex_Pivot_my_v82308.mq5` и связанного кода, без превращения в советника (EA).

Функционал индикатора (must-have)
- Мультитаймфрейм: M5, M15, H1, H4, D1.
- MF‑pivot с оптимизированным ZigZag.
- Анализ объема на 3 ТФ: M5, M15, H1. Требование: минимум 2 из 3 подтверждают объем.
- Фильтр торговых сессий: Лондон, Нью‑Йорк, Токио.
- Сила тренда: шкала 1–3.
- Информационная панель: направления трендов (H1/M15/M5), уровни pivot, сила тренда, объемы по ТФ, валидность сессии.
- Используем завершенные бары (no repaint). Производительность: кэш pivot, обновлять кэш не чаще 1 раза в минуту.

Типы сигналов и правила
- Сильный (желтая стрелка): все 3 ТФ совпали; сила 3/3; объем подтвержден (≥2/3); валидная сессия.
- Обычный (зел./красн.): все 3 ТФ совпали; сила 1–2/3; объем подтвержден; валидная сессия.
- Ранний (голубая): частичное совпадение (H1 и M5, но не M15); сила 1–2/3; объем подтвержден; валидная сессия.
- Выход (серый крестик): цена пересекла противоположный pivot → закрыть позицию по методике.
- Разворот (аква): изменение направления тренда на H1 и M15, потенциальный разворот.

Настройки (интерфейс input — не менять смысл и названия)
- Основные:
  input bool UseRussian = false;
  input bool ShowClassicPivot = true;
  input bool ShowStatusInfo = true;
  input bool EnableVolumeFilter = true;
  input bool EnableSessionFilter = true;
- ZigZag:
  input int InpDepth = 12;
  input double InpDeviation = 5.0;
- Фильтры MasterForex‑V:
  input double MinVolumeMultiplier = 1.2;
  input int    MinTrendStrength = 2;
  input bool   UseRiskManagement = true;
  input double MaxRiskPercent = 2.0;

Код‑требования (MQL5)
- Структура: OnInit/OnCalculate + легковесные кэши для pivot/объёмов; никаких блокирующих операций в OnCalculate.
- Считать только закрытые бары для объема/сигналов.
- Минимизировать аллокации/копирование в каждом тике; переиспользовать буферы.
- Никакого “перерисовывания” сигналов; хранить состояния для баров.
- Название индикатора в Market Watch: “MasterForex‑V MultiTF v8.2308”.

Инфопанель (минимум)
- Тренд H1/M15/M5, pivot уровня, сила тренда 1–3, объём (M5/M15/H1 с галочками), статус сессии.

Python/тестирование
- `strategy_test_v82308.py` и CSV из репозитория использовать как есть (не переписывать данные).
- Проверять согласованность сигналов индикатора с правилами выше.

Нефункциональные требования
- Понятные названия, лаконичные комментарии (ru/en), соответствие README.
- Не превращать индикатор в советник. Не удалять существующие inputs. Сохранять обратно совместимость.

Формат ответа
- При изменениях — показать конкретные правки в `MasterForex_Pivot_my_v82308.mq5`/`ZigZag.mq5`/`strategy_test_v82308.py`.
- Краткие обоснования около правок, без лишней болтовни. Код — готовый к вставке.

